<app-header></app-header>

<section class="container py-5">
  <!-- TARJETA + ETIQUETA EN LA MISMA FILA -->
  <div class="d-flex justify-content-center align-items-center gap-3 mb-4">
    <!-- Badge -->
    <div class="tag-container">
      <span class="tag">Opiniones de Clientes</span>
    </div>

    <!-- Tarjeta Destacada -->
    <div class="rating-box shadow-sm">
      <div class="d-flex align-items-center gap-3">
        <h1 class="fw-normal text-primary m-0">4.8</h1>
        <div>
          <div class="stars mb-1">
            <span class="text-warning">★★★★★</span>
          </div>
          <p class="text-muted small m-0">Basado en 320 reseñas</p>
        </div>
      </div>
    </div>
  </div>

  <!-- TEXTO DESCRIPTIVO DEBAJO -->
  <div class="text-center mb-5">
    <h5 class="fw-bold text-secundary">Lo que dicen nuestros clientes</h5>
    <p class="fw-light text-description">
      Reseñas verificadas de distribuidores, hoteles, restaurantes y consumidores en Dubái y EAU.
    </p>
  </div>

  <!-- FILTROS + COMENTARIOS -->
  <div class="row g-4">
    <!-- === FILTROS === -->
    <div class="col-md-4">
      <div class="filters-box p-4 shadow-sm">
        <h5 class="fw-bold">Distribución</h5>

        <div class="rating-bars mb-4">
          <div *ngFor="let x of [5, 4, 3, 2, 1]" class="d-flex align-items-center mb-2">
            <span class="me-2">{{ x }}</span>
            <div class="progress flex-grow-1" style="height: 6px">
              <div class="progress-bar bg-dark" [style.width.%]="x * 20"></div>
            </div>
            <span class="ms-2 text-muted small">{{ x * 10 }}</span>
          </div>
        </div>

        <h6 class="fw-bold">Por tipo de cliente</h6>
        <button class="filter-btn active" (click)="filterByType('all')">Todas las reseñas</button>
        <button class="filter-btn" (click)="filterByType('B2C')">Consumidores (B2C)</button>
        <button class="filter-btn" (click)="filterByType('B2B')">Empresas (B2B)</button>

        <h6 class="fw-bold mt-4">Por país</h6>
        <button class="filter-btn active">Todos los países</button>
        <button class="filter-btn">Emiratos Árabes Unidos</button>
      </div>
    </div>

    <!-- === TARJETAS DE COMENTARIOS === -->
    <div class="col-md-8 reviews-scroll">
      <div class="review-card shadow-sm p-4 mb-4" *ngFor="let r of filteredReviews">
        <div class="d-flex align-items-center gap-3 mb-2">
          <div class="profile-circle">{{ r.name.charAt(0) }}</div>

          <div>
            <h6 class="fw-bold m-0">{{ r.name }}</h6>
            <span class="text-muted small">{{ r.location }} • {{ r.date }}</span>
          </div>

          <span class="badge bg-success ms-auto" *ngIf="r.verified">Verificado</span>
          <span class="badge bg-primary ms-2">{{ r.type }}</span>
          <span class="badge bg-light text-dark border ms-2">{{ r.category }}</span>
        </div>

        <div class="stars text-warning mb-2">
          <span *ngFor="let s of [].constructor(r.rating)">★</span>
        </div>

        <p class="m-0 text-muted">{{ r.text }}</p>
      </div>
    </div>
  </div>

  <!-- CAJA DE CERTIFICACIONES -->
  <section class="container mb-5 mt-5">
    <div class="card certificacion-card shadow-sm p-4 text-center">
      <h5 class="fw-bold mb-3 text-dark">
        <i class="bi bi-graph-up-arrow me-2"></i>
        Calidad Reconocida Internacionalmente
      </h5>

      <p class="mb-0 text-dark">
        Más del 97% de nuestros clientes en Dubái y EAU nos califican con 4 o 5 estrellas. Nuestra
        dedicación a la excelencia y las certificaciones internacionales nos han convertido en el
        proveedor preferido de arándanos premium colombianos en Medio Oriente.
      </p>
    </div>
  </section>
</section>
<app-footer></app-footer>
